#content-container
  #page-title
    %a.btn.btn-success.pull-right{href:geo_airports_path,"ng-click"=>"$root.setRoute('#{geo_airports_path}')"}=t("b1_admin.back_to_list")
    %h1.page-header.text-overflow
      =t("b1_admin.airoports")
  #page-content{:"ng-controller"=>"CitiesController","ng-init"=>"editedItem=#{@item.serializable_hash.to_json}; countries=#{@countries.to_json}; cities=[];time_zones=#{@time_zones}",:"data-url"=>geo_airports_path}
    .row
      .col
        .panel
          .panel-heading
            .panel-control
              = render "shared/lang_selector"
            %h3.panel-title=t("b1_admin.airoport_manage")
          = form_tag geo_airports_path ,class: "form-horizontal",novalidate: true,name: :itemForm do
            .panel-body
              .row
                .col-md-3
                  - B1Config.get_const.all_langs.each do |l|
                    .form-group{"ng-class" => "{'has-error': itemForm.name_#{l}.$invalid && itemForm.$submitted}",class: "lang lang_#{l}" ,style: "#{(B1Config.get_const.default_lang == l ? '' : 'display:none')}" }
                      = label_tag :"name_#{l}", t("b1_admin.title"), class:"col-sm-3 control-label"
                      .col-sm-8
                        = text_field_tag :"name_#{l}","" ,class:"form-control",required: true,"ng-minlength"=>3, "ng-model"=>"editedItem.name_#{l}"

                  .form-group{"ng-class" => "{'has-error': itemForm.code.$invalid && itemForm.$submitted}"}
                    = label_tag :code, t("b1_admin.time_zones"), class:"col-sm-3 control-label"
                    .col-sm-8
                      = text_field_tag :code,"" ,class:"form-control",required: true,"ng-minlength"=>3,"ng-maxlength"=>3, "ng-model"=>"editedItem.code"
                  .form-group{"ng-class" => "{'has-error': itemForm.time_zone.$invalid && itemForm.$submitted}"}
                    = label_tag :code, t("b1_admin.time_zone"), class:"col-sm-3 control-label"
                    .col-sm-8
                      %select.form-control{"ng-model" => "editedItem.time_zone", "ng-options" => "continent as continent for continent in time_zones",required: true}
                  .form-group{"ng-class" => "{'has-error': itemForm.country_id.$invalid && itemForm.$submitted}"}
                    = label_tag :country_id, t("b1_admin.country"), class:"col-sm-3 control-label"
                    .col-sm-7
                      %select.form-control{"ng-model" => "editedItem.country_id", "ng-options" => "country.id as country.name for country in countries",required: true}
                  .form-group{"ng-class" => "{'has-error': itemForm.city_id.$invalid && itemForm.$submitted}"}
                    = label_tag :city_id, t("b1_admin.city"), class:"col-sm-3 control-label"
                    .col-sm-7
                      %select.form-control{"ng-model" => "editedItem.city_id", "ng-options" => "continent.id as continent.name for continent in cities",required: true}
                  .form-group{"ng-class" => "{'has-error': itemForm.show_on_search.$invalid && itemForm.$submitted}"}
                    = label_tag :show_on_search, t("b1_admin.show_on_search"), class:"col-sm-3 control-label"
                    .col-sm-7
                      %input.js-switch{"ui-switch" => "true", type: "checkbox",id:"show_on_search", "ng-model"=>"editedItem.show_on_search"}
              .mar-top.clearfix
                %a.btn.btn-sm.btn-primary.pull-right{"ng-click" => "save()"}
                  %i.fa.fa-pencil.fa-fw
                  =t("b1_admin.save")
